<template>
    <div class={componentClass} >
        <lightning-accordion allow-multiple-sections-open onsectiontoggle={handleAccordionSectionToggle} active-section-name='visualization'>
            <lightning-accordion-section name="visualization" label="Visualization" class="visualization-section ">
                <div if:true={debug} class="slds-builder-toolbar" role="toolbar">
                    <lightning-button 
                        label="Get Camera Position and Aim"
                        onclick={getCameraPosition}
                        variant="brand"
                        class="slds-m-right_small">
                    </lightning-button>
                    <lightning-button 
                        label="Toggle Temperature Sensor"
                        onclick={handleTriggerTempSensor}
                        variant="brand"
                        class="slds-m-right_small">
                    </lightning-button>
                    <lightning-button 
                        label="Toggle Debug Mode"
                        onclick={handleToggleDebugMode}
                        variant="brand"
                        class="slds-m-right_small">
                    </lightning-button>
                </div>
                <div style="position: relative;" class="visualization-container">
                    <iframe src="/apex/X3DVisualization" 
                        style="width: 100%; height: 500px; border: none;"
                        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation"
                        referrerpolicy="no-referrer"
                        allow="fullscreen">
                    </iframe>
                    <img src="https://files.renderdraw.us/public/images/2020RDLogo.png"
                        style="position: absolute; bottom: 10px; right: 10px; width: 75px; z-index: 1;">
                </div>
            </lightning-accordion-section>
        </lightning-accordion>
    </div>
</template>